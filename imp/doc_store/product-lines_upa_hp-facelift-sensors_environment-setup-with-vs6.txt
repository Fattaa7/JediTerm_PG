{"lc": 1, "type": "constructor", "id": ["langchain", "schema", "document", "Document"], "kwargs": {"metadata": {"source": "product-lines_upa_hp-facelift-sensors_environment-setup-with-vs6.txt"}, "page_content": "[3] Environment Setup with the ECU\nBasic Environment Setup\nThe basic environment setup was including only ECU and Castle, where:\nSensor simulation can be done usingEchoMM APISetMagnitude - (Magnitude has to be \nsimulated with a large value along with every TOF)To check the sensor simulation is \ndone correctly, it can be done by spying on the LIN bus\nSensor simulation can be done usingEchoMM APISetMagnitude - (Magnitude has to be \nsimulated with a large value along with every TOF)\nSensor simulation can be done using\nEchoMM API\nEchoMM API\nSetMagnitude - (Magnitude has to be simulated with a large value along with every \nTOF)\nSetMagnitude - (Magnitude has to be simulated with a large value along with every \nTOF)\nTo check the sensor simulation is done correctly, it can be done by spying on the \nLIN bus\nTo check the sensor simulation is done correctly, it can be done by spying on the \nLIN bus\nEnvironment setup using VS6:\nUsing higher versions from DAS on ECU software, it has become mandatory to simulate \nobjects using VS6 as a simulation tool.\nMain blocks are:\nThe ECUCASTLE - for sensor simulation on the physical lineVS6 tool on PC (For \nsimulating the scenario)CANCase + Canoe for spying\nThe ECU\nThe ECU\nCASTLE - for sensor simulation on the physical line\nCASTLE - for sensor simulation on the physical line\nVS6 tool on PC (For simulating the scenario)\nVS6 tool on PC (For simulating the scenario)\nCANCase + Canoe for spying\nCANCase + Canoe for spying\nHow to setup VS6 Environment:\nThe correct version of VS6 to be used with HP_FL sensors is:\nhttps://sites.google.com/a/valeo.com/vic-rd-knowledge-base-park4u-vs6/home/download/\nVS6II_sim_035_pre_8f6be34_HP-FL.7z?attredirects=0&d=1\nAn Example configuration that can be used is attached.\nSetup the CANoe configuration to spy on CAN Back-plane communicationAdd the DBC to \nconfiguration containing all messages between VS6 and Castle that can be found in \nthe project config/data/ folder with the name: pim_pc_vs6_generic.dbc (Attached)\nSetup the CANoe configuration to spy on CAN Back-plane communication\nSetup the CANoe configuration to spy on CAN Back-plane communication\nAdd the DBC to configuration containing all messages between VS6 and Castle that can\nbe found in the project config/data/ folder with the name: pim_pc_vs6_generic.dbc \n(Attached)\nAdd the DBC to configuration containing all messages between VS6 and Castle that can\nbe found in the project config/data/ folder with the name: pim_pc_vs6_generic.dbc \n(Attached)\nOpen Driver settings and adapt the CAN channel to 1000 kbps\nOpen Driver settings and adapt the CAN channel to 1000 kbps\nOpen Driver settings and adapt the CAN channel to 1000 kbps\nOpen Vector Hardware Driver and choose the connected CAN Case to the used CAN \nchannel\nOpen Vector Hardware Driver and choose the connected CAN Case to the used CAN \nchannel\nOpen Vector Hardware Driver and choose the connected CAN Case to the used CAN \nchannel\nOpen VS6 from the attached folder\"\\VS6_RenaultSUV\\VS6II_sim_035_pre_8f6be34_HP-FL\"\nOpen VS6 from the attached folder\"\\VS6_RenaultSUV\\VS6II_sim_035_pre_8f6be34_HP-FL\"\nOpen VS6 from the attached folder\"\\VS6_RenaultSUV\\VS6II_sim_035_pre_8f6be34_HP-FL\"\nFrom Setup menu, choose \" load setup\" and use \"VS6II_sim_035.03_pre_CAN-FD.ini\"\nFrom Setup menu, choose \" load setup\" and use \"VS6II_sim_035.03_pre_CAN-FD.ini\"\nOpen Vector Hardware Driver and go to Application -> VS6. In case you can't find VS6\napplication you can add it\nOpen Vector Hardware Driver and go to Application -> VS6. In case you can't find VS6\napplication you can add it\nAssign the connected Channel on Driver menu and then assign another virtual CAN:\nAssign the connected Channel on Driver menu and then assign another virtual CAN:\nAssign the connected Channel on Driver menu and then assign another virtual CAN:\nFrom Setup menu, choose \"CAN Setup\" and make sure that \"Castle Communication is \nconnected to the same CAN channel chosen on Canoe\" - Baud Rate = 1000 Kbps\nFrom Setup menu, choose \"CAN Setup\" and make sure that \"Castle Communication is \nconnected to the same CAN channel chosen on Canoe\" - Baud Rate = 1000 Kbps\nThe rest of the functions on VS6 can be assigned to the virtual channel.\nThe rest of the functions on VS6 can be assigned to the virtual channel.\nFrom File menu --> load CAN and choose the file in: \"\\VS6_RenaultSUV\\CAN \nini\\Renault_SUV_VS6_DevIDsSignals_x2_P4U.ini\"\nFrom File menu --> load CAN and choose the file in: \"\\VS6_RenaultSUV\\CAN \nini\\Renault_SUV_VS6_DevIDsSignals_x2_P4U.ini\"\nFrom File menu --> load vehicle and choose the file in: \"\\VS6_RenaultSUV\\CAR \nini\\CarDim_Renault_Espace_12_CH_updated.ini\"\nFrom File menu --> load vehicle and choose the file in: \"\\VS6_RenaultSUV\\CAR \nini\\CarDim_Renault_Espace_12_CH_updated.ini\"\nNow you're ready to start VS6\nNow you're ready to start VS6\nOpen the Environment Simulation Panel from VS6 menu\nOpen the Environment Simulation Panel from VS6 menu\nNow you're ready to start simulating an obstacle and you can move the vehicle back \nand forth with Speed from the Odol menuA basic wall can be simulated by pressing the\n\"+\" button in the Environment Simulation panel\nNow you're ready to start simulating an obstacle and you can move the vehicle back \nand forth with Speed from the Odol menu\nA basic wall can be simulated by pressing the \"+\" button in the Environment \nSimulation panel\nA basic wall can be simulated by pressing the \"+\" button in the Environment \nSimulation panel\nAt that time you can find VS6 sending its messages on Back Plane CAN as follows:In \nthat scenario there're Direct Echos on SensorFIL and it's mapping from Castle can be\nfound on the LIN bus ( Direct Reporting can be found in PID_17 response from \nCastle):\nAt that time you can find VS6 sending its messages on Back Plane CAN as follows:\nIn that scenario there're Direct Echos on SensorFIL and it's mapping from Castle can\nbe found on the LIN bus ( Direct Reporting can be found in PID_17 response from \nCastle):\nIn that scenario there're Direct Echos on SensorFIL and it's mapping from Castle can\nbe found on the LIN bus ( Direct Reporting can be found in PID_17 response from \nCastle):\nIn that scenario there're Direct Echos on SensorFIL and it's mapping from Castle can\nbe found on the LIN bus ( Direct Reporting can be found in PID_17 response from \nCastle):\nIndirect Echos received by FIL from its neighboring sensor FIR can be found \nreflected in the indirect response reported in PID_16:\nIndirect Echos received by FIL from its neighboring sensor FIR can be found \nreflected in the indirect response reported in PID_16:\nIndirect Echos received by FIL from its neighboring sensor FIR can be found \nreflected in the indirect response reported in PID_16:\nIndirect Echos received by FIL from its neighboring sensor FIR can be found \nreflected in the indirect response reported in PID_16:\nUsing that complete guide you can guarantee setting up the tester's environment and \ncheck if Castle maps the values from VS6 to Castle to ECU correctly or not.", "type": "Document"}}